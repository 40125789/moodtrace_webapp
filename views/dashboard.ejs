<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mood Trace Dashboard</title>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<link rel="stylesheet" href="/styles/style.css" type="text/css">

<!-- FontAwesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="correct-fontawesome-integrity-value" crossorigin="anonymous" referrerpolicy="no-referrer" />

<!-- Flatpickr CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr@4.6.9/dist/flatpickr.min.css">

<!-- Include jQuery, Popper.js, and Bootstrap JS -->
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

<!-- Include the latest Bootstrap Multiselect CSS and JS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/css/bootstrap-multiselect.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/js/bootstrap-multiselect.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.9/dist/flatpickr.min.js"></script>


    <!-- Include your custom navbar script with defer -->
    <!--<my-navbar></my-navbar>-->

</head>

<body>

    <nav class="navbar navbar-expand-lg bg-info navbar-dark">
        <div class="container">
            <a href="/" class="navbar-brand" style="font-weight: bold">Mood Trace</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navmenu">
                <span class="navbar-toggler-icon"></span>
            </button>
    
            <div class="collapse navbar-collapse" id="navmenu">
                <ul class="navbar-nav">
                    <% if (isloggedin) { %>
                        <li class="nav-item">
                            <a href="/dashboard" class="nav-link"><i class="fas fa-home"></i> Home</a>
                        </li>
                        <li class="nav-item">
                            <a href="/record" class="nav-link"><i class="fas fa-book"></i> Record</a>
                        </li>
                        <li class="nav-item">
                            <a href="/history" class="nav-link"><i class="fas fa-history"></i> History</a>
                        </li>
                        <li class="nav-item">
                            <a href="/statistics" class="nav-link"><i class="fas fa-chart-line"></i> Trends</a>
                        </li>
                    <% } %>
                </ul>
    
                <!-- Conditionally render login/register or logout link based on user authentication -->
                <ul class="navbar-nav ml-auto">
                    <% if (isloggedin) { %>
                        <!-- User is logged in -->
                        <li class="nav-item">
                            <a href="/logout" class="nav-link"><i class="fa-solid fa-right-to-bracket"></i> Log out</a>
                        </li>
                    <% } else { %>
                        <!-- User is not logged in -->
                        <li class="nav-item">
                            <a href="/register" class="nav-link"><i class="fa-solid fa-user"></i> Register</a>
                        </li>
                        <li class="nav-item">
                            <a href="/login" class="nav-link"><i class="fa-solid fa-right-to-bracket"></i> Log in</a>
                        </li>
                    <% } %>
                </ul>
            </div>
        </div>
    </nav>



 <!-- Dashboard Content -->

 <div class="container mt-5">
    <!-- Content Section -->
    <div class="text-center mb-4">
        <% if (isloggedin) { %>
            <h1>Welcome <%= firstname %>!</h1>
            <p class="lead my-4" style="font-weight: 600">
                Let's get started!
            </p>
        <% } else { %>
            <p class="lead my-4" style="font-weight: 600">
                Please log in to record your mood.
            </p>
        <% } %>
    </div>
</div>



        <!-- Quick Actions Section -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="card p-3 text-center">
                    <i class="fas fa-calendar fa-3x mb-3"></i>
                    <h4>Record Mood</h4>
                    <p>Log your mood for today</p>
                    <a href="/record" class="btn btn-primary">Record Now</a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card p-3 text-center">
                    <i class="fas fa-chart-line fa-3x mb-3"></i>
                    <h4>View Trends</h4>
                    <p>Analyze trends over time</p>
                    <a href="/trends" class="btn btn-primary">View Trends</a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card p-3 text-center">
                    <i class="fas fa-history fa-3x mb-3"></i>
                    <h4>History</h4>
                    <p>View your previous emotion snapshots</p>
                    <a href="/history" class="btn btn-primary">Go to History</a>
                </div>
            </div>
        </div>

        <!-- Features section (Similar to Landing Page) -->
        <section id="Track" class="p-5" style="background-color: rgb(50, 180, 236);">
            <div class="container">
                <div class="row align-items-center justify-content-between">
                    <div class="col-md">
                        <img src="imgs/moodtrack.png" class="img-fluid" alt="">
                    </div>
                    <div class="col-md p-5">
                        <h2 style="color: white; font-weight: bold;">Track your mood</h2>
                        <p class="lead" style="color: white;">
                            Record your mood throughout the day....
                        </p>
                        <p style="color: white; font-weight: 600;">
                            Look at your contextual triggers so you can see why you feel a certain way
                        </p>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <!-- Bootstrap and Font Awesome JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>

    <!-- Use this script block to dynamically set the username -->
    <script>
        document.getElementById('username').textContent = 'John'; // Replace with the actual username variable
    </script>

</body>

</html>

